{"remainingRequest":"C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\src\\views\\ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\src\\views\\ChangePassword.vue","mtime":1620901401924},{"path":"C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ASUS\\Desktop\\QueryWebsite-1.2\\fore-end\\studentadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvQVNVUy9EZXNrdG9wL1F1ZXJ5V2Vic2l0ZS0xLjIvZm9yZS1lbmQvc3R1ZGVudGFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0FTVVMvRGVza3RvcC9RdWVyeVdlYnNpdGUtMS4yL2ZvcmUtZW5kL3N0dWRlbnRhZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyAgIOaXp+WvhueggemqjOivgeWHveaVsAogICAgdmFyIGNoZWNrcGFzc3dvcmQgPSBmdW5jdGlvbiBjaGVja3Bhc3N3b3JkKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuaXp+WvhueggeS4jeiDveS4uuepuiEiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsgLy8g5paw5a+G56CB6aqM6K+B5Ye95pWwCgoKICAgIHZhciBjaGVja25ld3Bhc3MgPSBmdW5jdGlvbiBjaGVja25ld3Bhc3MocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIHZhciByZ3ggPSAvXlthLXpBLVpdXHd7NSwxN30kLzsKCiAgICAgIGlmICh2YWx1ZSA9PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi5paw5a+G56CB5LiN6IO95Li656m6ISIpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoIXJneC50ZXN0KHZhbHVlKSkgewogICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLlr4bnoIHor7fku6XlrZfmr43lvIDlpLTvvIzplb/luqblnKg2fjE45LmL6Ze077yM5Y+q6IO95YyF5ZCr5a2X5q+N44CB5pWw5a2X5ZKM5LiL5YiS57q/ISIpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vIOehruiupOWvhueggemqjOivgeWHveaVsAoKCiAgICB2YXIgY2hlY2tjb25maXJtcGFzcyA9IGZ1bmN0aW9uIGNoZWNrY29uZmlybXBhc3MocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gIiIpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+WGjeasoei+k+WFpeaWsOWvhueggSEiKSk7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IF90aGlzLmZvcm1kYXRhLm5ld3Bhc3MpIHsKICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuS4pOasoei+k+WFpeWvhueggeS4jeS4gOiHtCEiKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBmb3JtZGF0YTogewogICAgICAgIHVzZXJuYW1lOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKSwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgbmV3cGFzczogIiIsCiAgICAgICAgY29uZmlybXBhc3M6ICIiCiAgICAgIH0sCiAgICAgIGNoYW5wYXNzcnVsZXNmb3JtOiB7CiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICB2YWxpZGF0b3I6IGNoZWNrcGFzc3dvcmQsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBuZXdwYXNzOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja25ld3Bhc3MsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBjb25maXJtcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tjb25maXJtcGFzcywKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIHVzZXJuYW1lOiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlcm5hbWUiKQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOihqOWNleWGheWuuemHjee9rgogICAgUmVzZXQ6IGZ1bmN0aW9uIFJlc2V0KCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLmZvcm1kYXRhKTsKICAgICAgdGhpcy4kcmVmcy5jaGFucGFzc2Zvcm0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICAvL+aPkOS6pOS/ruaUueeahOWvhueggQogICAgY29uZmlybWNoYW5nZXBhc3M6IGZ1bmN0aW9uIGNvbmZpcm1jaGFuZ2VwYXNzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuY2hhbnBhc3Nmb3JtLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGkpIHsKICAgICAgICAgIHZhciBkYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpczIuZm9ybWRhdGEpOwoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzMi5mb3JtZGF0YSk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL3VwcGFzc3dvcmQiLCBfb2JqZWN0U3ByZWFkKHt9LCBfdGhpczIuZm9ybWRhdGEpKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50LmRhdGE7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpOwoKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubWV0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkv67mlLnlr4bnoIHmiJDlip8iCiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kYWxlcnQoIuS/ruaUueWvhueggeaIkOWKn++8jOivt+mAgOWHuumHjeaWsOeZu+WFpSIsICLmj5DnpLoiLCB7CiAgICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coMTU0NTQpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucmVwbGFjZSgiLyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIumAgOWHuuaIkOWKnyIKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5tZXRhLnN0YXR1cyA9PSAzMDApIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgdHlwZTogImVycm9yIiwKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLml6flr4bnoIHplJnor68s5L+u5pS55a+G56CB5aSx6LSlIgogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubWV0YS5zdGF0dXMgPT0gNDA0KSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi5L+u5pS55a+G56CB5aSx6LSlLOacjeWKoeWZqOWPkeeUn+acquefpemUmeivryIKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgICB9KSk7CgogICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"changepassword\">\r\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\r\n      <el-breadcrumb-item\r\n        v-if=\"username == 'jiaowuchu'\"\r\n        :to=\"{ path: '/superhome' }\"\r\n        >首页</el-breadcrumb-item\r\n      >\r\n      <el-breadcrumb-item v-else :to=\"{ path: '/home/' + $route.params.role }\"\r\n        >首页</el-breadcrumb-item\r\n      >\r\n      <el-breadcrumb-item>下载成绩文件</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <el-card>\r\n      <div class=\"form-box\">\r\n        <el-form\r\n          label-width=\"90px\"\r\n          label-position=\"right\"\r\n          :model=\"formdata\"\r\n          :rules=\"chanpassrulesform\"\r\n          ref=\"chanpassform\"\r\n        >\r\n          <el-form-item label=\"用户名:\">\r\n            <el-input\r\n              size=\"small\"\r\n              v-model=\"formdata.username\"\r\n              disabled\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"旧密码:\" prop=\"password\">\r\n            <el-input\r\n              type=\"password\"\r\n              size=\"small\"\r\n              v-model=\"formdata.password\"\r\n              show-password\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"新密码:\" prop=\"newpass\">\r\n            <el-input\r\n              type=\"password\"\r\n              size=\"small\"\r\n              v-model=\"formdata.newpass\"\r\n              show-password\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"确认新密码:\" prop=\"confirmpass\">\r\n            <el-input\r\n              type=\"password\"\r\n              size=\"small\"\r\n              v-model=\"formdata.confirmpass\"\r\n              show-password\r\n            ></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n\r\n        <div class=\"footerbuton\">\r\n          <el-button @click=\"confirmchangepass\">确定</el-button>\r\n          <el-button @click=\"Reset\">重置</el-button>\r\n        </div>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    //   旧密码验证函数\r\n    let checkpassword = (rule, value, callback) => {\r\n      if (value == \"\") {\r\n        callback(new Error(\"旧密码不能为空!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    // 新密码验证函数\r\n    let checknewpass = (rule, value, callback) => {\r\n      let rgx = /^[a-zA-Z]\\w{5,17}$/;\r\n      if (value == \"\") {\r\n        callback(new Error(\"新密码不能为空!\"));\r\n      } else {\r\n        if (!rgx.test(value)) {\r\n          callback(\r\n            new Error(\r\n              \"密码请以字母开头，长度在6~18之间，只能包含字母、数字和下划线!\"\r\n            )\r\n          );\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n\r\n    // 确认密码验证函数\r\n    let checkconfirmpass = (rule, value, callback) => {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请再次输入新密码!\"));\r\n      } else if (value !== this.formdata.newpass) {\r\n        callback(new Error(\"两次输入密码不一致!\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      formdata: {\r\n        username: window.sessionStorage.getItem(\"username\"),\r\n        password: \"\",\r\n        newpass: \"\",\r\n        confirmpass: \"\",\r\n      },\r\n      chanpassrulesform: {\r\n        password: [{ validator: checkpassword, trigger: \"blur\" }],\r\n        newpass: [{ validator: checknewpass, trigger: \"blur\" }],\r\n        confirmpass: [{ validator: checkconfirmpass, trigger: \"blur\" }],\r\n      },\r\n      username: window.sessionStorage.getItem(\"username\"),\r\n    };\r\n  },\r\n  methods: {\r\n    // 表单内容重置\r\n    Reset() {\r\n      console.log(this.formdata);\r\n      this.$refs.chanpassform.resetFields();\r\n    },\r\n    //提交修改的密码\r\n    confirmchangepass() {\r\n      this.$refs.chanpassform.validate(async (vali) => {\r\n        console.log(this.formdata);\r\n        if (vali) {\r\n          console.log(this.formdata);\r\n          let data = (\r\n            await axios.post(\"/uppassword\", {\r\n              ...this.formdata,\r\n            })\r\n          ).data;\r\n          console.log(data);\r\n          if (data.meta.status == 200) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"修改密码成功\",\r\n            });\r\n            this.$alert(\"修改密码成功，请退出重新登入\", \"提示\", {\r\n              confirmButtonText: \"确定\",\r\n              type: \"success\",\r\n              showClose: false,\r\n              callback: () => {\r\n                window.sessionStorage.clear();\r\n                console.log(15454);\r\n                this.$router.replace(\"/\");\r\n                this.$message({\r\n                  type: \"success\",\r\n                  message: \"退出成功\",\r\n                });\r\n              },\r\n            });\r\n          } else if (data.meta.status == 300) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"旧密码错误,修改密码失败\",\r\n            });\r\n          } else if (data.meta.status == 404) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"修改密码失败,服务器发生未知错误\",\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.changepassword {\r\n  width: 100%;\r\n  height: 100%;\r\n  .el-breadcrumb {\r\n    margin-bottom: 5px;\r\n  }\r\n  .el-card__body {\r\n    width: 100%;\r\n    height: 100%;\r\n  }\r\n\r\n  .el-card {\r\n    width: 100%;\r\n    height: 100%;\r\n    .el-card__body {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 100%;\r\n      .form-box {\r\n        position: absolute;\r\n        width: 500px;\r\n        height: 400px;\r\n        background-color: rgba(233, 236, 240);\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        padding: 30px 10px 30px 10px;\r\n        justify-content: space-around;\r\n        border-radius: 10px;\r\n        box-shadow: 0 0 10px rgb(38, 35, 36);\r\n\r\n        .el-form {\r\n          width: 100%;\r\n          .el-form-item__label {\r\n            color: rgb(159, 0, 127);\r\n          }\r\n        }\r\n      }\r\n      .footerbuton {\r\n        width: 100%;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        button {\r\n          color: rgb(159, 0, 126);\r\n          font-weight: bold;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}